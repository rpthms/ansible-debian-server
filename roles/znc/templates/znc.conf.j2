// WARNING
//
// Do NOT edit this file while ZNC is running!
// Use webadmin or *controlpanel instead.
//
// Altering this file by hand will forfeit all support.
//
// But if you feel risky, you might want to read help on /znc saveconfig and /znc rehash.
// Also check http://en.znc.in/wiki/Configuration

AnonIPLimit = 3
AuthOnlyViaModule = false
ConnectDelay = 5
HideVersion = true
{% for module in znc_global_load_modules %}
LoadModule = {{ module }}
{% endfor %}
MaxBufferSize = {{ znc_max_buffer_size }}
{% for motd in znc_motd %}
Motd = {{ motd }}
{% endfor %}
{% if znc_listener_use_ssl == 'true' %}
SSLCiphers = {{ znc_ssl_ciphers }}
SSLCertFile = /var/lib/znc/.znc/ssl/cert.pem
SSLKeyFile = /var/lib/znc/.znc/ssl/key.pem
SSLDHParamFile = /var/lib/znc/.znc/ssl/dh.pem
SSLProtocols = {{ znc_ssl_protocols }}
{% endif %}
ServerThrottle = 30
StatusPrefix = *
Version = 1.7.2

<Listener listener0>
	AllowIRC = {{ znc_listener_allow_irc}}
	AllowWeb = {{ znc_listener_allow_web }}
	IPv4 = {{ znc_listener_listen_on_ipv4 }}
	IPv6 = {{ znc_listener_listen_on_ipv6 }}
	Port = {{ znc_listener_port }}
	SSL = {{ znc_listener_use_ssl }}
	URIPrefix = {{ znc_listener_uri_prefix }}
</Listener>

{% for user in znc_users %}
<User {{ user.name }}>
	Admin = {{ user.is_admin | d('false') }}
	Allow = *
	AltNick = _{{ user.name }}_
	AppendTimestamp = false 
	AuthOnlyViaModule = false
	AutoClearChanBuffer = {{ user.auto_clear_chan_buffer | d('false') }}
	AutoClearQueryBuffer = {{ user.auto_clear_query_buffer | d('false') }}
	ChanBufferSize = {{ user.chan_buffer_size | d('50') }}
	ClientEncoding = ^UTF-8
	DenyLoadMod = {{ user.deny_load_mod | d('false') }}
	DenySetBindHost = true
	Ident = {{ user.name }}
	JoinTries = 5
	{% for module in user.modules %}
	LoadModule = {{ module }}
	{% endfor %}
	MaxJoins = 5
	MaxNetworks = 5
	MaxQueryBuffers = {{ user.max_query_buffers | d('5') }}
	MultiClients = true
	Nick = {{ user.name }}
	NoTrafficTimeout = 180
	PrependTimestamp = false
	QueryBufferSize = {{ user.query_buffer_size | d('50') }}
	QuitMsg = %znc%
	RealName = {{ user.name }}
	TimestampFormat = [%H:%M:%S]

	{% for network in user.networks %}
	<Network {{ network.name }}>
		Encoding = ^UTF-8
		FloodBurst = 4 
		FloodRate = 1.00 
		IRCConnectEnabled = true
		JoinDelay = 0 
		{% for module in network.modules %}
		LoadModule = {{ module }}
		{% endfor %}
		{% for server in network.servers %}
		Server = {{ server }}
		{% endfor %}
		TrustAllCerts = false
		TrustPKI = true

		{% for channel in network.channels %}
		<Chan {{ channel }}>
		</Chan>

		{% endfor %}

	</Network>

	{% endfor %}

	<Pass password>
		Hash = {{ user.password_hash }}
		Method = {{ user.password_hash_algo | d('sha256') }}
		Salt = {{ user.password_salt }}
	</Pass>
</User>

{% endfor %}
